<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Undangan Pernikahan - Dilla & Adit</title>
  <meta name="description" content="Undangan pernikahan Fadillah Istiqomah (Dilla) & Achmad Jatnika (Adit)">
  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Undangan Pernikahan - Dilla & Adit">
  <meta property="og:description" content="Undangan pernikahan Fadillah Istiqomah (Dilla) & Achmad Jatnika (Adit)">
  <meta property="og:url" content="https://thedajourney.space/">
  <meta property="og:image" content="https://thedajourney.space/assets/hero_pic.JPG">
  <meta property="og:image:secure_url" content="https://thedajourney.space/assets/hero_pic.JPG">
  <meta property="og:image:alt" content="Foto mempelai Dilla & Adit">
  <meta property="og:image:type" content="image/jpeg">
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Undangan Pernikahan - Dilla & Adit">
  <meta name="twitter:description" content="Undangan pernikahan Fadillah Istiqomah (Dilla) & Achmad Jatnika (Adit)">
  <meta name="twitter:image" content="https://thedajourney.space/assets/hero_pic.JPG">

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    @font-face {
      font-family: 'LucianSchoenschrift';
      src: url('assets/font/Lucian Schoenschrift CAT.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    :root {
      --bg-overlay: rgba(0, 0, 0, 0.5);
      --card-bg: rgba(255, 255, 255, 0.92);
      --text-dark: #0f172a;
      --text-light: #f8fafc;
      --muted: #475569;
      --primary: #2563eb;
      --accent: #a855f7;
      --radius: 18px;
      --shadow: 0 12px 28px rgba(0,0,0,0.22);
      --max-w: 1000px;
    }

    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    html, body { height: 100%; margin: 0; }
    body {
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, Noto Sans, "Helvetica Neue", sans-serif;
      color: var(--text-dark);
      line-height: 1.6;
      background: #0b1220;
    }

    /* Hero/Cover */
    .hero {
      position: relative;
      min-height: 100svh;
      display: grid;
      place-items: center;
      text-align: center;
      color: var(--text-light);
      background: url('assets/bg_hero.png') center/cover no-repeat fixed;
      isolation: isolate;
      overflow: hidden;
    }
    .hero::before {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background: none; /* default: no overlay */
      z-index: 0; /* above bg, below content */
    }

    /* Reduce pixelation effect on very large screens without high-res asset */
    @media (min-width: 1200px) {
      /* Avoid background-attachment: fixed artifacts on big monitors */
      .hero { background-attachment: scroll; }

      /* Subtle gradients + slight backdrop blur to soften scaling */
      .hero::before {
        background:
          radial-gradient(closest-side at 20% 30%, rgba(255,255,255,0.06), transparent 55%),
          radial-gradient(closest-side at 80% 70%, rgba(0,0,0,0.12), transparent 60%),
          linear-gradient(to bottom, rgba(0,0,0,0.08), rgba(0,0,0,0.18));
        backdrop-filter: blur(2px);
      }

      /* Gentle vignette to hide edges and perceived artifacts */
      .hero::after {
        content: "";
        position: absolute;
        inset: 0;
        pointer-events: none;
        box-shadow: inset 0 0 160px rgba(0,0,0,0.35);
        z-index: 0;
      }

      /* Keep name GIF crisp above overlays */
      .name-gif { position: relative; z-index: 1; filter: none; }
    }
    .hero-card {
      width: min(94%, var(--max-w));
      padding: 28px 22px 30px;
      background: linear-gradient( to bottom right, rgba(255,255,255,0.10), rgba(255,255,255,0.06) );
      border: 1px solid rgba(255,255,255,0.25);
      border-radius: var(--radius);
      backdrop-filter: blur(6px);
      box-shadow: var(--shadow);
    }

    /* Dekorasi GIF di kiri atas & kanan bawah */
    .decor { position:absolute; width:150px; opacity:0.95; pointer-events:none; filter: drop-shadow(0 12px 28px rgba(0,0,0,0.35)) drop-shadow(0 0 24px rgba(0,0,0,0.25)); }
    .decor-wrapper {
    position: absolute;
    width: 120px;   /* atur sesuai kebutuhan */
    height: 120px;
    overflow: hidden; /* bagian luar akan ke-crop */
    }

    .decor-wrapper img {
    width: 150%;  /* zoom sedikit */
    height: auto;
    }

   .decor-left { 
    position: absolute;
    top: 12px; 
    left: 12px; 
    transform: rotate(180deg) scale(1.35);
    /* Darken GIF as overlay effect */
    filter: brightness(0.72) blur(0.4px) drop-shadow(0 16px 36px rgba(0,0,0,0.35)) drop-shadow(0 0 28px rgba(0,0,0,0.28));
    }

    .decor-right { 
    right: 12px; 
    bottom: 12px; 
    transform: rotate(10deg) scale(1.35);
    /* Darken GIF as overlay effect */
    filter: brightness(0.72) blur(0.4px) drop-shadow(0 16px 36px rgba(0,0,0,0.35)) drop-shadow(0 0 28px rgba(0,0,0,0.28));
    }

    @media (min-width: 760px) { .decor { width: 220px; } }

    @media (min-width: 1200px) { .decor { width: 280px; } }

    .eyebrow {
      letter-spacing: 0.14em;
      text-transform: uppercase;
      font-size: 12px;
      opacity: 0.95;
      margin: 0 0 8px;
    }
    h1 { margin: 0 0 8px; font-size: clamp(30px, 6vw, 56px); line-height: 1.15; font-weight: 800; }
    .hero h1 { font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif; font-weight: 400; letter-spacing: 0.02em; }
    .hero .eyebrow { font-family: 'Poppins', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif; text-transform: none; letter-spacing: 0.08em; font-weight: 600; margin-bottom: 12px; }
    .hero-names {
    font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif;
    font-weight: 400;
    letter-spacing: 0.02em;
    display: flex;
    flex-direction: column;
    align-items: flex-start; /* left align to allow indentation */
    gap: 2px;
    font-size: clamp(76px, 12vw, 112px);
    line-height: 1.05;
    margin: 0 0 16px;
    color: #462159;
    }

    .hero-names .name {
    display: inline-block;
    opacity: 0;
    animation: fadeIn 3s forwards;
    }

    .hero-names .amp {
    font-size: clamp(96px, 15vw, 132px);
    opacity: 0;
    animation: fadeIn 3s forwards;
    }

    /* animasi huruf */
    @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
    }

    /* kasih delay per huruf */
    .hero-names .name span {
    display: inline-block;
    opacity: 0;
    animation: fadeIn 0.5s forwards;
    }

    /* Indentation for "enter tab" effect */
    .hero-names .amp { margin-left: 1.5em; }
    .hero-names .name:last-of-type { margin-left: 2.75em; }

    /* Override container animation; animate letters instead */
    .hero-names .name { opacity: 1; animation: none; }
    .sub { margin: 0 0 10px; font-size: clamp(16px, 3.5vw, 20px); opacity: 0.95; }

    .meta { display:flex; flex-wrap:wrap; gap:12px 18px; justify-content:center; margin:18px 0 18px; font-size:15px; }
    .meta-item { display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px; background: rgba(0,0,0,0.35); border:1px solid rgba(255,255,255,0.18); }

    /* Countdown */
    .countdown { display:flex; justify-content:center; gap:10px; margin: 10px 0 20px; flex-wrap:wrap; }
    .cd-item { background: rgba(0,0,0,0.35); border:1px solid rgba(255,255,255,0.18); border-radius: 12px; padding:10px 12px; min-width:70px; }
    .cd-item .num { display:block; font-weight:800; font-size: clamp(18px,4.5vw,28px); }
    .cd-item .lbl { display:block; font-size: 12px; opacity:0.9; }
    .countdown .started { font-weight:700; font-size: 16px; }

    .actions { display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; }
    .hero .actions { position: absolute; bottom: 8vh; left: 50%; transform: translateX(-50%);  z-index: 2; /* pastikan di atas overlay */}
    @media (min-height: 700px) { .hero .actions { bottom: 12vh; } }
    .btn { appearance: none; border: none; border-radius: 999px; padding: 12px 18px; font-weight: 700; cursor: pointer; text-decoration: none; transition: transform 0.12s ease, filter 0.12s ease, background 0.2s ease; will-change: transform; }
    .btn:active { transform: translateY(1px) scale(0.99); }
    .btn-primary { background: #462159; color: white; box-shadow: 0 8px 18px rgba(37,99,235,0.35); }
    .btn-ghost { background: transparent; color: #fff; border: 1px solid rgba(255,255,255,0.6); backdrop-filter: blur(2px); }

    /* Sections */
    .section { background: #ffffff; color: var(--text-dark); padding: 56px 16px; }
    .inner { width: min(94%, var(--max-w)); margin: 0 auto; }
    .grid { display: grid; grid-template-columns: 1fr; gap: 16px; }
    @media (min-width: 760px) { .grid { grid-template-columns: 1fr 1fr; } }

    .card { background: var(--card-bg); border: 1px solid rgba(2,6,23,0.08); border-radius: var(--radius); box-shadow: var(--shadow); padding: 22px; }
    .card h2 { margin: 0 0 12px; font-size: clamp(22px, 3.2vw, 28px); }
    .muted { color: var(--muted); }
    .list { margin: 8px 0 0; padding: 0 0 0 18px; }

    /* Form base styles (RSVP & Ucapan) */
    .form { display: grid; gap: 14px; }
    .form .form-group { display: flex; flex-direction: column; gap: 6px; }
    .form .form-group label {
      font-family: 'Poppins', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif;
      font-weight: 600; color: #462159; font-size: 14px;
    }
    .form input, .form select, .form textarea {
      width: 100%; padding: 12px 14px; border-radius: 12px;
      border: 1.5px solid rgba(2,6,23,0.12);
      background: rgba(255,255,255,0.96);
      color: var(--text-dark); font-size: 14px;
      transition: border-color .2s ease, box-shadow .2s ease, background .2s ease;
      font-family: 'Poppins', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif;
    }
    .form input::placeholder, .form textarea::placeholder { color: #94a3b8; }
    .form input:focus, .form select:focus, .form textarea:focus {
      outline: none; border-color: #8F729F; box-shadow: 0 0 0 3px rgba(143,114,159,0.25); background: #fff;
    }
    .form textarea { min-height: 110px; resize: vertical; }
    .form .btn.btn-primary { background:#462159; color:#fff; }
    .form .btn-ghost { color:#462159; border:1px solid #8F729F; backdrop-filter: none; }
    .form .btn[disabled] { opacity: .8; cursor: not-allowed; }
    .form-actions { display:flex; flex-direction: column; gap:12px; margin-top:4px; }
    .form .btn-block { width:100%; }
    .form-actions .btn-ghost { align-self:center; }

    /* Galeri */
    .gallery { background:#fff; }
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 16px;
    }
    .gallery-item {
      position: relative;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: var(--shadow);
      animation: floatY 6s ease-in-out infinite;
      will-change: transform;
    }
    /* Variasi durasi/delay agar animasi terasa hidup */
    .gallery-item:nth-child(2) { animation-duration: 7s; animation-delay: .2s; }
    .gallery-item:nth-child(3) { animation-duration: 8s; animation-delay: .4s; }
    .gallery-item:nth-child(4) { animation-duration: 7.5s; animation-delay: .1s; }
    .gallery-item:nth-child(5) { animation-duration: 6.5s; animation-delay: .3s; }
    .gallery-item:nth-child(6) { animation-duration: 7.8s; animation-delay: .5s; }

    .gallery-item img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
      aspect-ratio: 3 / 4; /* proporsi potret elegan */
      transform: scale(1.02);
      transition: transform .6s ease, filter .6s ease;
    }
    .gallery-item:hover img { transform: scale(1.06); filter: brightness(1.05); }

    @keyframes floatY {
      0%   { transform: translateY(-4px); }
      50%  { transform: translateY(4px); }
      100% { transform: translateY(-4px); }
    }

    /* Mosaic pattern: 1 full, 2 side-by-side repeating */
    .gallery-mosaic { display:grid; gap:16px; }
    @media (min-width: 760px) {
      .gallery-mosaic { grid-template-columns: repeat(2, 1fr); }
      .gallery-mosaic .gallery-item:nth-child(3n+1) { grid-column: 1 / -1; }
    }
    /* Aspect ratios */
    .gallery-mosaic .gallery-item img { aspect-ratio: 3 / 4; }
    .gallery-mosaic .gallery-item:nth-child(3n+1) img { aspect-ratio: 16 / 9; }

    /* Keep gallery content above starfield */
    #galeri { position: relative; overflow: hidden; }
    .gallery-mosaic { position: relative; z-index: 1; }

    /* Starfield */
    .starfield { position: absolute; inset: 0; pointer-events: none; z-index: 0; }
    /* Kejora stars: diamond shape + cross glow (no circular dots) */
    .starfield .kejora {
      position: absolute;
      width: 10px;
      height: 10px;
      background: linear-gradient(45deg, #ffffff, #ffffff);
      transform: rotate(45deg);
      box-shadow: 0 0 12px rgba(255,255,255,0.9), 0 0 24px rgba(168,85,247,0.45);
      animation: twinkle 2.8s ease-in-out infinite alternate;
    }
    .starfield .kejora::before,
    .starfield .kejora::after {
      content: "";
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      pointer-events: none;
      filter: blur(0.3px);
      opacity: 0.8;
    }
    .starfield .kejora::before {
      width: 80px;
      height: 2px;
      background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.95), rgba(255,255,255,0));
    }
    .starfield .kejora::after {
      width: 2px;
      height: 80px;
      background: linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,0.95), rgba(255,255,255,0));
    }
    @keyframes twinkle {
      from { opacity: 0.55; transform: rotate(45deg) scale(0.9); }
      to   { opacity: 1; transform: rotate(45deg) scale(1.08); }
    }

    /* Lightbox */
    .lightbox { position: fixed; inset: 0; display: none; place-items: center; z-index: 1000; }
    .lightbox.open { display: grid; }
    .lightbox-backdrop { position: absolute; inset: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(2px); }
    .lightbox-img { position: relative; max-width: 92vw; max-height: 86vh; border-radius: 12px; box-shadow: var(--shadow); z-index: 1; }
    .lightbox-close {
      position: absolute; top: 16px; right: 16px; z-index: 2;
      appearance: none; border: 0; background: rgba(255,255,255,0.9); color: #111;
      border-radius: 999px; width: 36px; height: 36px; font-size: 22px; font-weight: 700; cursor: pointer;
    }

    /* Foto mempelai like hero background */
    #foto-mempelai { 
    position: relative;
    min-height: 100svh;
    display: grid;
    place-items: center;
    text-align: center;
    color: var(--text-light);
    background: url('assets/hero_pic.JPG') no-repeat fixed;
    background-size: cover;

    /* Custom posisi crop */
    background-position: 20% 70%; 
    }
    #foto-mempelai::before { 
      content: ""; position: absolute; inset: 0; pointer-events: none; background: none; z-index: 0; 
    }
    @media (min-width: 1200px) {
      /* Avoid fixed artifacts on big monitors */
      #foto-mempelai { background-attachment: scroll; }
      /* Subtle gradients + blur */
      #foto-mempelai::before {

        backdrop-filter: blur(1px);
      }
      /* Vignette */
      #foto-mempelai::after {
        content: ""; position: absolute; inset: 0; pointer-events: none; box-shadow: inset 0 0 160px rgba(0,0,0,0.35); z-index: 0;
      }
    }

    .map-embed { position: relative; padding-top: 56.25%; border-radius: 14px; overflow: hidden; margin-top: 8px; }
    .map-embed iframe { position: absolute; inset: 0; width: 100%; height: 100%; border: 0; }

    .footer { text-align: center; color: #cbd5e1; font-size: 13px; padding: 18px 12px 36px; }

    /* Responsive name GIF */
    .name-gif {
      width: clamp(260px, 70vw, 920px);
      height: auto;
      display: block;
      margin: 8px auto 16px;
    }
    /* Mempelai section with background and custom layout */
    #mempelai {
     position: relative;
     min-height: 110svh;
     display: grid;
     place-items: center;
     text-align: center;
     background: url('assets/bg_mempelai.png') center/cover no-repeat;
     background-size: cover;
    }
    #mempelai::before {
      content: "";
      position: absolute;
      pointer-events: none;
    }
    #mempelai .inner { position: relative; z-index: 1; }

    .mempelai-intro { text-align: center; margin-bottom: 24px; }
    .mempelai-intro .salam {
      font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif;
      font-weight: 400;
      font-size: clamp(28px, 6vw, 48px);
      margin: 0 0 8px;
      color: #462159;
    }
    .mempelai-intro .ajakan {
      font-family: 'Poppins', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif;
      font-size: clamp(14px, 3.2vw, 18px);
      margin: 0 auto;
      max-width: 820px;
      color: #462159;
    }

    .mempelai-photos {
      display: grid;
      grid-template-columns: 1fr auto 1fr; /* left photo, name gif center, right photo */
      gap: 16px;
      align-items: center;
      justify-items: center;
    }
    .mempelai-photo { width: min(100%, 320px); height: auto; border-radius: 12px }
    .mempelai-name { width: min(70%, 420px); height: auto; filter: drop-shadow(0 8px 22px rgba(0,0,0,0.35)); }

    @media (max-width: 760px) {
      .mempelai-photos { grid-template-columns: 1fr; }
      .mempelai-name { width: min(90%, 480px); }
    }
    @media (min-width: 1024px) {
      .mempelai-photo { width: 300px; }
      .mempelai-name { width: 420px; }
    }

    /* Detail section custom styles */
    #detail {
      background: url('assets/bg_mempelai.png') center/cover no-repeat;
      color: #fff;
    }
    #detail .inner { text-align: center; }
    #detail .grid { gap: 16px; }

    .detail-card {
      background: #e2e0ed;
      border: 2px solid #8F729F;
      border-radius: var(--radius);
      color: #fff;
      text-align: center;
      opacity: 0;
      transform: translateY(10px);
      animation: fadeInUp 0.8s ease-out forwards;
    }
    .detail-card:nth-child(2) { animation-delay: 0.15s; }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(10px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    .detail-card h2 {
      font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif;
      color: #8F729F;
      font-weight: 400;
      letter-spacing: 0.02em;
      margin: 0 0 8px;
      text-shadow: 0 2px 6px rgba(0,0,0,0.35);
    }

    /* Body text uses Poppins */
    #detail .wd-sub,
    .detail-card,
    .detail-card .list,
    .detail-card .list li {
      font-family: 'Poppins', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif;
    }

    /* Date text */
    .detail-date { color: #8F729F; font-weight: 700; }

    /* Time pill */
    .time-pill {
      display: inline-block;
      padding: 6px 12px;
      border-radius: 999px;
      background: #8F729F;
      color: #fff;
      font-weight: 700;
    }

    /* Address/location text */
    .addr { color: #8F729F; font-weight: 200; font-size: small;}

    /* Centered list without bullets */
    .detail-card .list { list-style: none; padding-left: 0; margin: 8px 0 0; }
    .detail-card .list li { margin: 6px 0; }

    /* Amplop Digital card styles: separated from .detail-card for independent editing */
    .amplop-card {
      background: #462159;
      border: 2px solid #8F729F;
      border-radius: var(--radius);
      color: #fff;
      text-align: center;
      opacity: 0;
      transform: translateY(10px);
      animation: fadeInUp 0.8s ease-out forwards;
    }
    .amplop-card h2 {
      font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif;
      color: #ffffff;
      font-weight: 400;
      letter-spacing: 0.02em;
      margin: 0 0 8px;
      text-shadow: 0 2px 6px rgba(0,0,0,0.35);
    }
    .amplop-card .list { list-style: none; padding-left: 0; margin: 8px 0 0; }
    .amplop-card .list li { margin: 6px 0; }

    /* Map tweaks */
    #detail .map-embed { border-radius: 20px; overflow: hidden; border: 3px solid #8F729F; box-shadow: 0 16px 40px rgba(0,0,0,0.35), inset 0 0 0 1px rgba(255,255,255,0.25); background: linear-gradient(135deg, rgba(143,114,159,0.25), rgba(70,33,89,0.25)); }
    /* Global sky overlay for shooting stars */
    #sky {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      pointer-events: none; /* overlay, non-interactive */
      overflow: hidden;
      z-index: 20; /* above section backgrounds, below modals */
      background: transparent;
    }

    /* Shooting star - smoother, more elegant tail and motion */
    .shooting-star {
      position: absolute;
      width: 160px; /* longer tail */
      height: 2px;
      background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.95), rgba(168,85,247,0.35));
      border-radius: 2px;
      opacity: 0.9;
      filter: drop-shadow(0 0 6px rgba(255,255,255,0.65)) drop-shadow(0 0 12px rgba(168,85,247,0.45));
      transform: translate3d(0,0,0) rotate(var(--rot));
      animation: shoot var(--dur) cubic-bezier(.22,.61,.36,1) forwards; /* ease-out */
      pointer-events: none;
    }

    @keyframes shoot {
      0% {
        transform: translate3d(0, 0, 0) rotate(var(--rot));
        opacity: 0;
      }
      10% {
        opacity: 1; /* fade in gently */
      }
      85% {
        opacity: 1;
      }
      100% {
        transform: translate3d(var(--tx), var(--ty), 0) rotate(var(--rot));
        opacity: 0; /* fade out at end */
      }
    }

    /* Twinkling star (static background star) */
    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
      opacity: 0.6;
      animation: twinkle-dot 3s infinite ease-in-out;
    }

    @keyframes twinkle-dot {
      0%, 100% { opacity: 0.2; transform: scale(0.8); }
      50% { opacity: 1; transform: scale(1.3); }
    }

    /* Reservation form */
    #reservasi { background: url('assets/bg_mempelai.png') center/cover no-repeat; }
    #reservasi .form { display: grid; gap: 12px; }
    #reservasi .form-grid-2 { display: grid; grid-template-columns: 1fr; gap: 12px; }
    @media (min-width: 760px) { #reservasi .form-grid-2 { grid-template-columns: 1fr 1fr; } }
    #reservasi .form-group { display: grid; gap: 6px; text-align: left; }
    #reservasi label { font-family: 'Poppins', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; font-weight: 600; color: #462159; }
    #reservasi input, #reservasi select {
      appearance: none;
      width: 100%;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1.5px solid rgba(2,6,23,0.12);
      background: #fff;
      color: var(--text-dark);
      font: inherit;
      outline: none;
      transition: border-color .15s ease, box-shadow .15s ease;
    }
    #reservasi input:focus, #reservasi select:focus { border-color: #8F729F; box-shadow: 0 0 0 4px rgba(143,114,159,0.15); }
    #reservasi ::placeholder { color: #94a3b8; }
  /* Music control button */
  .music-btn {
    position: fixed;
    right: 16px;
    bottom: 16px;
    width: 48px;
    height: 48px;
    border-radius: 999px;
    border: 2px solid rgba(255,255,255,0.6);
    background: rgba(70,33,89,0.9);
    color: #fff;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 8px 18px rgba(0,0,0,0.35);
    z-index: 1001; /* above lightbox (1000) */
    pointer-events: auto;
    touch-action: manipulation;
  }
  .music-btn:hover { filter: brightness(1.05); }
  .music-btn:active { transform: translateY(1px) scale(0.98); }
  .music-btn.is-playing::after { content: '❚❚'; }
  .music-btn:not(.is-playing)::after { content: '▶'; }
  </style>

<script>
  // Music control logic
  document.addEventListener('DOMContentLoaded', () => {
    const audio = document.getElementById('bgm');
    const btn = document.getElementById('musicToggle');
    if (!audio || !btn) return;

    const updateUI = () => {
      btn.classList.toggle('is-playing', !audio.paused);
      btn.setAttribute('aria-label', audio.paused ? 'Putar musik' : 'Jeda musik');
      btn.title = audio.paused ? 'Putar musik' : 'Jeda musik';
    };

    btn.addEventListener('click', async () => {
      try {
        if (audio.paused) {
          await audio.play();
        } else {
          audio.pause();
        }
      } finally {
        updateUI();
      }
    });

    audio.addEventListener('play', updateUI);
    audio.addEventListener('pause', updateUI);
    updateUI();
  });
</script>

<script>
  // Starfield generator inside #galeri
  (function() {
    const section = document.getElementById('galeri');
    if (!section) return;
    const layer = section.querySelector('.starfield');
    if (!layer) return;
    const starCount = Math.min(120, Math.floor(window.innerWidth / 8));
    const frag = document.createDocumentFragment();
    for (let i = 0; i < starCount; i++) {
      const s = document.createElement('span');
      s.className = 'star';
      const size = (Math.random() * 1.8 + 0.8).toFixed(2); // 0.8–2.6 px
      const top = (Math.random() * 100).toFixed(2);
      const left = (Math.random() * 100).toFixed(2);
      const delay = (Math.random() * 2.4).toFixed(2) + 's';
      s.style.width = size + 'px';
      s.style.height = size + 'px';
      s.style.top = top + '%';
      s.style.left = left + '%';
      s.style.animationDelay = delay;
      frag.appendChild(s);
    }
    layer.appendChild(frag);
    // Rebuild stars on resize (debounced)
    let t;
    window.addEventListener('resize', () => {
      clearTimeout(t);
      t = setTimeout(() => {
        layer.innerHTML = '';
        const cnt = Math.min(120, Math.floor(window.innerWidth / 8));
        const f = document.createDocumentFragment();
        for (let i = 0; i < cnt; i++) {
          const s = document.createElement('span');
          s.className = 'star';
          const size = (Math.random() * 1.8 + 0.8).toFixed(2);
          const top = (Math.random() * 100).toFixed(2);
          const left = (Math.random() * 100).toFixed(2);
          const delay = (Math.random() * 2.4).toFixed(2) + 's';
          s.style.width = size + 'px'; s.style.height = size + 'px';
          s.style.top = top + '%'; s.style.left = left + '%';
          s.style.animationDelay = delay;
          f.appendChild(s);
        }
        layer.appendChild(f);
      }, 250);
    });
  })();

  </script>
</head>
<body>
  <!-- Global sky overlay for shooting stars -->
  <div id="sky" class="sky-overlay" aria-hidden="true"></div>

  <div id="petals" class="petal-overlay fixed" aria-hidden="true"></div>
  <!-- HERO / COVER -->
  <style>
    /* Falling petals overlay */
    #our-story, #hitung-mundur, #galeri { position: relative; overflow: hidden; }
    #our-story > *:not(.petal-overlay),
    #hitung-mundur > *:not(.petal-overlay),
    #galeri > *:not(.petal-overlay) {
      position: relative; z-index: 1;
    }

    .petal-overlay { position: absolute; inset: 0; pointer-events: none; z-index: 5; overflow: hidden; }

    .petal {
      position: absolute;
      top: -12vh; /* mulai dari atas */
      width: var(--w, 14px);
      height: var(--h, 20px);
      opacity: var(--op, 0.85);
      filter: drop-shadow(0 6px 10px rgba(0,0,0,0.15)) blur(0.2px);
      transform: translate3d(0, -20vh, 0) rotate(0deg); /* posisi awal di atas */
      animation: petal-fall var(--dur, 18s) linear var(--delay, -8s) infinite; /* jatuh ke bawah */
    }

    /* Gerakan goyangan halus menggunakan --dx */
    @keyframes petal-fall {
      0%   { transform: translate3d(var(--x-start, 0vw), -20vh, 0) rotate(var(--rs, -12deg)); opacity: 0; }
      10%  { opacity: var(--op, 0.85); }
      50%  { transform: translate3d(calc(var(--x-start, 0vw) + var(--dx, 6vw)), 50vh, 0) rotate(var(--rm, 6deg)); }
      100% { transform: translate3d(calc(var(--x-start, 0vw) + calc(var(--dx, 6vw) * 2)), 110vh, 0) rotate(var(--re, 22deg)); opacity: 0; }
    }

    /* Petal looks: gunakan gambar sakura */
    .petal {
      background-image: url('assets/sakura.svg');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      border-radius: 0; /* bentuk dari gambar, bukan border-radius */
    }
    .petal.purple { filter: drop-shadow(0 6px 10px rgba(0,0,0,0.15)) hue-rotate(-20deg) saturate(1.2); }
    .petal.white  { filter: drop-shadow(0 6px 10px rgba(0,0,0,0.15)) brightness(1.05); }

    /* Overlay fixed untuk seluruh halaman */
    .petal-overlay.fixed { position: fixed; inset: 0; pointer-events: none; z-index: 5; overflow: hidden; }

    /* Reduce motion for accessibility */
    @media (prefers-reduced-motion: reduce) {
      .petal { animation: none; display: none; }
    }
  </style>
  <header class="hero">
    <!-- Dekor GIF kiri atas & kanan bawah -->
    <img class="decor decor-left" src="assets/hero_gif.gif" alt="Dekor kiri atas" />
    <img class="decor decor-right" src="assets/hero_gif.gif" alt="Dekor kanan bawah" />
    <img class="name-gif" src="assets/nama.gif" alt="Nama Dilla & Adit" />
     <div class="actions">
        <a class="btn btn-primary" href="#foto-mempelai">Buka Undangan</a>
      </div>

    <!-- <div class="hero-card" role="banner" aria-label="Undangan Pernikahan"> -->
      <!-- <p class="eyebrow">wedding invitation</p>
      <div class="hero-names" aria-label="Nama Mempelai">
        <span class="name">Dilla</span>
        <span class="amp">&amp;</span>
        <span class="name">Adit</span>
      </div>
      <div class="actions">
        <a class="btn btn-primary" href="#detail">Buka Undangan</a>
      </div> -->
    <!-- </div> -->
  </header>

  <script>
    // Autoplay music after first click on "Buka Undangan"
    document.addEventListener('DOMContentLoaded', () => {
      const openBtn = document.querySelector('header.hero .actions .btn.btn-primary[href^="#"]');
      const audio = document.getElementById('bgm');
      if (!openBtn || !audio) return;
      const handler = async () => {
        try { await audio.play(); } catch (_) {}
      };
      openBtn.addEventListener('click', handler, { once: true });
    });
  </script>

 <!-- FOTO MEMPELAI -->
  <section class="section" id="foto-mempelai">
    <!-- Empty inner to keep vertical spacing consistent if needed -->
    <div class="inner" style="display:none"></div>
  </section>

  <!-- PROFIL MEMPELAI -->
  <section class="section" id="mempelai">
    <div class="inner">
      <div class="mempelai-intro">
        <p class="salam">Assalamualaikum Wr. Wb</p>
        <p class="ajakan">Dengan memohon rahmat dan ridho Allah SWT, kami bermaksud mengundang Bapak/Ibu/Saudara/i untuk hadir dalam acara pernikahan putra-putri kami:</p>
      </div>
      <div class="mempelai-photos">
        <img class="mempelai-photo" src="assets/cpw.gif" alt="Foto Calon Pengantin Wanita" loading="lazy" />
        <img class="mempelai-name" src="assets/nama_detail.gif" alt="Nama Detail Mempelai" loading="lazy" />
        <img class="mempelai-photo" src="assets/cpp.gif" alt="Foto Calon Pengantin Pria" loading="lazy" />
      </div>
    </div>
  </section>

   <!-- OUR STORY -->
  <section class="section" id="our-story" style="position: relative; overflow:hidden;">
    <div class="inner">
      <div class="mempelai-intro">
        <p class="salam" style="font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; font-weight:400; color:#462159;">Our Story</p>
        <p class="ajakan" style="font-family: 'Poppins', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; color:#462159;">Perjalanan singkat kami.</p>
      </div>

      <div class="story">
        <div class="story-item">
          <h3 class="story-title">Awal bertemu</h3>
          <p class="story-text">Saat Dila sedang melaksanakan magang di Dinsos, bertemu dengan Adit yang menjadi koordinator mahasiswa magang.</p>
          <p class="story-text">Tak lama saling mengenal, Adit menunjukan keseriusan pada hubungan ini, menyatakan keseriusan pada tanggal 22 Januari 2023 secara pribadi antara Dila dan Adit.</p>
        </div>
        <div class="story-item">
          <h3 class="story-title">Tunangan</h3>
          <p class="story-text">Beberapa bulan setelah wisuda, Adit memberanikan diri untuk berbicara kepada kedua orang tua dan kakak-kakak Dila untuk meminang Dila. Tak lama setelah itu dilaksanakan acara pertunangan di kediaman Dila pada tanggal 27 April 2024.</p>
        </div>
        <div class="story-item">
          <h3 class="story-title">Persiapan pernikahan</h3>
          <p class="story-text">Saat sedang mempersiapkan pernikahan, alhamdulillah Dila diterima kerja di luar kota. Namun hal tersebut mengharuskan LDR dan menunda pernikahan.</p>
        </div>
        <div class="story-item">
          <h3 class="story-title">Pernikahan</h3>
          <p class="story-text">Setelah akhirnya satu tahun bekerja, Dila diperbolehkan untuk menikah dan pernikahan akan dilaksanakan tanggal 13 September 2025.</p>
        </div>
      </div>

      <div class="bubble-field" aria-hidden="true">
        <span class="bubble" style="--l:6%; --s:1.1; --dur:18s; --delay:0s;"></span>
        <span class="bubble" style="--l:14%; --s:0.8; --dur:16s; --delay:2s;"></span>
        <span class="bubble" style="--l:22%; --s:1.3; --dur:20s; --delay:1s;"></span>
        <span class="bubble" style="--l:30%; --s:0.9; --dur:17s; --delay:3s;"></span>
        <span class="bubble" style="--l:38%; --s:1.2; --dur:21s; --delay:0.5s;"></span>
        <span class="bubble" style="--l:46%; --s:0.7; --dur:15s; --delay:4s;"></span>
        <span class="bubble" style="--l:54%; --s:1.0; --dur:19s; --delay:1.5s;"></span>
        <span class="bubble" style="--l:62%; --s:0.85; --dur:16s; --delay:2.5s;"></span>
        <span class="bubble" style="--l:70%; --s:1.25; --dur:22s; --delay:0.8s;"></span>
        <span class="bubble" style="--l:78%; --s:0.95; --dur:18s; --delay:2.2s;"></span>
        <span class="bubble" style="--l:86%; --s:1.15; --dur:20s; --delay:1.2s;"></span>
        <span class="bubble" style="--l:92%; --s:0.75; --dur:15s; --delay:3.2s;"></span>
      </div>
    </div>
    <style>
      /* Our Story timeline styles */
      #our-story .story {
        position: relative;
        margin: 16px 0 8px;
        padding: 8px 0;
      }
      /* Vertical line - animated draw */
      #our-story .story::before {
        content: "";
        position: absolute;
        top: 0;
        bottom: 0;
        left: 22px;             /* mobile: line on left */
        width: 3px;
        background: linear-gradient(#462159, #462159) no-repeat;
        background-size: 100% 0%;
        background-position: top left;
        opacity: 0.35;
        border-radius: 2px;
        transition: background-size 1.2s ease-out;
      }
      #our-story.is-visible .story::before { background-size: 100% 100%; }

      /* Card item with enter animation */
      #our-story .story-item {
        position: relative;
        background: rgba(255,255,255,0.92);
        border: 1px solid rgba(2,6,23,0.08);
        border-radius: 16px;
        padding: 16px 18px;
        box-shadow: var(--shadow);
        margin: 0 0 16px 48px;  /* clear the line + dot on mobile */
        opacity: 0;
        transform: translateY(10px);
        transition: opacity .6s ease-out, transform .6s ease-out;
      }
      #our-story .story-item.in-view { opacity: 1; transform: translateY(0); }
      /* Subtle stagger for children */
      #our-story .story-item.in-view .story-title { animation: fadeSlide .6s ease-out .05s both; }
      #our-story .story-item.in-view .story-text { animation: fadeSlide .6s ease-out .15s both; }
      @keyframes fadeSlide { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0);} }

      /* Timeline dot with pulse */
      #our-story .story-item::before {
        content: "";
        position: absolute;
        top: 22px;
        left: -30px;            /* mobile: dot at the line */
        width: 14px;
        height: 14px;
        background: #462159;
        border: 3px solid #8F729F;
        border-radius: 999px;
        box-shadow: 0 0 0 4px rgba(70,33,89,0.12);
        transform: scale(0.8);
        opacity: 0.85;
      }
      #our-story .story-item.in-view::before {
        animation: pulseDot 1.2s ease-out forwards;
      }
      @keyframes pulseDot {
        0% { transform: scale(0.8); box-shadow: 0 0 0 0 rgba(70,33,89,0.18); }
        60% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(70,33,89,0); }
        100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(70,33,89,0); }
      }

      /* Headings and text */
      #our-story .story-title {
        font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif;
        color: #462159;
        font-weight: 400;
        font-size: clamp(22px, 3.4vw, 30px);
        margin: 0 0 6px;
      }
      #our-story .story-text {
        font-family: 'Poppins', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif;
        color: #8F729F;
        margin: 0 0 8px;
        line-height: 1.7;
      }

      /* Desktop: alternate left/right around center line */
      @media (min-width: 760px) {
        #our-story .story { padding: 12px 0; }
        #our-story .story::before { left: 50%; transform: translateX(-50%); }
        #our-story .story-item {
          width: calc(50% - 36px);
          margin: 0 0 18px 0;
        }
        #our-story .story-item:nth-child(odd) {
          margin-right: auto;   /* left side */
          padding-right: 22px;
          transform: translateX(-8px); /* initial slide from center */
        }
        #our-story .story-item:nth-child(even) {
          margin-left: auto;    /* right side */
          padding-left: 22px;
          transform: translateX(8px);  /* initial slide from center */
        }
        #our-story .story-item.in-view:nth-child(odd),
        #our-story .story-item.in-view:nth-child(even) {
          transform: translateX(0); /* settle */
        }
        #our-story .story-item:nth-child(odd)::before { right: -38px; left: auto; }
        #our-story .story-item:nth-child(even)::before { left: -38px; }
      }

      /* Bubble background */
      #our-story .bubble-field {
        position: absolute;
        inset: 0;
        pointer-events: none;
        z-index: 0;
        overflow: hidden;
      }
      #our-story .bubble {
        position: absolute;
        left: var(--l, 50%);
        bottom: -60px;
        width: calc(24px * var(--s, 1));
        height: calc(24px * var(--s, 1));
        background: #462159;
        opacity: 0.18;
        border-radius: 50%;
        filter: blur(0.4px);
        animation: bubble-rise var(--dur, 18s) linear var(--delay, 0s) infinite;
      }
      @keyframes bubble-rise {
        0%   { transform: translateY(0); opacity: 0; }
        10%  { opacity: 0.25; }
        90%  { opacity: 0.25; }
        100% { transform: translateY(-120vh); opacity: 0; }
      }
    </style>

    <script>
      // Reveal animations for Our Story timeline using IntersectionObserver
      (function() {
        const section = document.getElementById('our-story');
        if (!section) return;
        const items = section.querySelectorAll('.story-item');
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('in-view');
            }
          });
        }, { root: null, rootMargin: '0px 0px -10% 0px', threshold: 0.15 });

        items.forEach(el => observer.observe(el));

        // Mark section visible to draw the vertical line
        const secObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              section.classList.add('is-visible');
            }
          });
        }, { threshold: 0.2 });
        secObserver.observe(section);
      })();
    </script>
  </section>

  <!-- DETAIL ACARA -->
  <section class="section" id="detail">
    <div class="inner">
      <h2 class="wd-title" style="font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; color:#462159; font-weight:400; text-align:center; font-size: clamp(28px, 6vw, 48px); margin: 0 0 8px;">Wedding Day</h2>
      <p class="wd-sub" style="font-family: 'Poppins', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; color:#462159; text-align:center; margin: 0 0 18px;">
        Untuk melaksanakan syariat agama-Mu, mengikuti sunnah rasul-Mu dalam membentuk keluarga yang Sakinah, Mawaddah, Warahmah yang Insya Allah akan diselenggarakan pada hari:
      </p>

      <div class="grid">
        <div class="card detail-card">
          <h2>Akad Nikah</h2>
          <ul class="list">
            <li class="detail-date">Sabtu, 13 September 2025</li>
            <li><strong><span class="time-pill">08:00</span></strong></li>
            <li class="addr">Gedung Aula Griya Harapan Difabel Dinas Sosial Prov Jabar — Jl. Jend. H. Amir Machmud No.331, Cibabat, Kec. Cimahi Utara, Kota Cimahi, Jawa Barat 40523</li>
          </ul>
        </div>
        <div class="card detail-card">
          <h2>Resepsi</h2>
          <ul class="list">
            <li class="detail-date"><strong>Sabtu, 13 September 2025</strong></li>
            <li><strong><span class="time-pill">11:00 - 14:00</span></strong></li>
            <li class="addr">Gedung Aula Griya Harapan Difabel Dinas Sosial Prov Jabar — Jl. Jend. H. Amir Machmud No.331, Cibabat, Kec. Cimahi Utara, Kota Cimahi, Jawa Barat 40523</li>
          </ul>
        </div>
      </div>

      <!-- Preview Maps: klik untuk membuka Google Maps -->
      <div class="map-embed" style="margin-top: 16px; position: relative;">
        <iframe
          title="Peta Lokasi"
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          src="https://www.google.com/maps?q=Gedung%20Aula%20Griya%20Harapan%20Difabel%20Dinas%20Sosial%20Prov%20Jabar%20Jl.%20Jend.%20H.%20Amir%20Machmud%20No.331%2C%20Cibabat%2C%20Kec.%20Cimahi%20Utara%2C%20Kota%20Cimahi%2C%20Jawa%20Barat%2040523&output=embed"></iframe>
        <a
          href="https://www.google.com/maps/search/?api=1&query=Gedung%20Aula%20Griya%20Harapan%20Difabel%20Dinas%20Sosial%20Prov%20Jabar%20Jl.%20Jend.%20H.%20Amir%20Machmud%20No.331%2C%20Cibabat%2C%20Kec.%20Cimahi%20Utara%2C%20Kota%20Cimahi%20Jawa%20Barat%2040523"
          target="_blank"
          rel="noopener"
          aria-label="Buka lokasi di Google Maps"
          style="position:absolute; inset:0; z-index:2;">
        </a>
      </div>
    </div>
  </section>

   <!-- HITUNG MUNDUR -->
  <section class="section" id="hitung-mundur" style="background: url('assets/bg_countdown.png') center/cover no-repeat; position: relative;
    min-height: 100svh;
    display: grid;
    place-items: center;
    text-align: center;
    color: var(--text-light);">
    <div class="inner" style="text-align:center;">
      <h2 style="font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; font-weight: 400; color:#462159; font-size: clamp(28px, 6vw, 48px); margin: 0 0 12px;">Countdown</h2>

      <div id="countdown" class="countdown" data-target="2025-09-13T08:00:00+07:00" aria-label="Hitung mundur ke Akad">
        <div class="cd-item" style="background:#462159;border:2px solid #8F729F;border-radius:20px;padding:24px 28px;min-width:160px;">
          <span id="cd-days" class="num" style="display:block;font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; color:#8F729F; font-size: clamp(48px,6.5vw,60px); font-weight:400;">00</span>
          <span class="lbl" style="display:block;font-family:'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; color:#8F729F; font-size:20px;">Hari</span>
        </div>
        <div class="cd-item" style="background:#462159;border:2px solid #8F729F;border-radius:20px;padding:24px 28px;min-width:160px;">
          <span id="cd-hours" class="num" style="display:block;font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; color:#8F729F; font-size: clamp(48px,6.5vw,60px); font-weight:400;">00</span>
          <span class="lbl" style="display:block;font-family:'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; color:#8F729F; font-size:20px;">Jam</span>
        </div>
        <div class="cd-item" style="background:#462159;border:2px solid #8F729F;border-radius:20px;padding:24px 28px;min-width:160px;">
          <span id="cd-mins" class="num" style="display:block;font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; color:#8F729F; font-size: clamp(48px,6.5vw,60px); font-weight:400;">00</span>
          <span class="lbl" style="display:block;font-family:'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; color:#8F729F; font-size:20px;">Menit</span>
        </div>
        <div class="cd-item" style="background:#462159;border:2px solid #8F729F;border-radius:20px;padding:24px 28px;min-width:160px;">
          <span id="cd-secs" class="num" style="display:block;font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; color:#8F729F; font-size: clamp(48px,6.5vw,60px); font-weight:400;">00</span>
          <span class="lbl" style="display:block;font-family:'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; color:#8F729F; font-size:20px;">Detik</span>
        </div>
      </div>

      <p class="muted" style="margin-top:12px;color:#462159;">Menuju Akad: Sabtu, 13 September 2025 pukul 08:00 WIB</p>
    </div>
  </section>

  <!-- GALERI FOTO -->
  <section class="section gallery" id="galeri">
    <div class="inner">
      
        <h1 style="font-family:'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; font-weight:400; color:#462159; text-align: center;">Galeri Foto</h1>
        <p class="muted" style="color:#462159; text-align: center;">Beberapa momen indah kami.</p>

        <!-- Starfield background in gallery -->
        <div class="starfield" aria-hidden="true" id="starfield-galeri"></div>

        <div class="gallery-mosaic">
          <figure class="gallery-item"><img src="assets/5.jpg" alt="Galeri 1" loading="lazy" /></figure>
          <figure class="gallery-item"><img src="assets/gallery2.jpg" alt="Galeri 2" loading="lazy" /></figure>
          <figure class="gallery-item"><img src="assets/1.jpg" alt="Galeri 3" loading="lazy" /></figure>
          <figure class="gallery-item"><img src="assets/gallery4.JPG" alt="Galeri 4" loading="lazy" /></figure>
          <figure class="gallery-item"><img src="assets/gallery3.jpg" alt="Galeri 5" loading="lazy" /></figure>
          <figure class="gallery-item"><img src="assets/gallery6.jpg" alt="Galeri 6" loading="lazy" /></figure>
        </div>
      </div>
  </section>

  <!-- RESERVATION / RSVP -->
  <section class="section" id="reservasi">
  <div class="inner">
    <h2 style="font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; font-weight: 400; color:#462159; font-size: clamp(28px, 6vw, 48px); margin: 0 0 12px; text-align:center;">Reservation</h2>
    <p class="muted" style="color:#462159; text-align:center; margin-bottom:16px;">Konfirmasi kehadiran Anda untuk mempermudah persiapan kami.</p>

    <form class="card form" id="rsvpForm">
      <div class="form-group">
        <label for="nama">Nama</label>
        <input type="text" id="nama" name="nama" required />
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" required />
      </div>

      <div class="form-group">
        <label for="kehadiran">Konfirmasi Kehadiran</label>
        <select id="kehadiran" name="kehadiran" required>
          <option value="" disabled selected>Hadir / Tidak Hadir</option>
          <option value="Hadir">Hadir</option>
          <option value="Tidak Hadir">Tidak Hadir</option>
        </select>
      </div>

      <div class="form-group">
        <label for="jumlah">Jumlah Tamu</label>
        <input type="number" id="jumlah" name="jumlah" min="1" max="10" step="1" required />
      </div>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary btn-block">Kirim</button>
        <button type="reset" class="btn btn-ghost">Reset</button>
      </div>
      <p id="rsvpMsg" class="muted" style="text-align:center; display:none; margin-top:8px;"></p>
    </form>
  </div>
</section>



  <!-- Petals overlay init (per section, ringan) -->
  <script>
    (function() {
      const targets = ['#mempelai', '#our-story', '#detail', '#hitung-mundur', '#galeri', '#lokasi'];

      function seed(section) {
        if (!section) return;
        if (section.querySelector('.petal-overlay')) return;
        const overlay = document.createElement('div');
        overlay.className = 'petal-overlay';
        section.appendChild(overlay);

        const isWide = window.matchMedia('(min-width: 760px)').matches;
        const count = isWide ? 12 : 7; // jumlah kelopak

        for (let i = 0; i < count; i++) {
          const p = document.createElement('div');
          p.className = 'petal ' + (Math.random() < 0.6 ? 'purple' : 'white');

          const w = 12 + Math.random() * 10;          // 12–22px
          const h = w * (1.2 + Math.random() * 0.4);  // variasi rasio
          const dur = 14 + Math.random() * 10;        // 14–24s
          const delay = -Math.random() * dur;         // start acak

          // arah naik: posisi awal horizontal acak di viewport + sway kecil kiri/kanan
          const dir = Math.random() < 0.5 ? 1 : -1;
          const xStart = (Math.random() * 100).toFixed(2) + 'vw'; // 0–100vw
          const dx = ((6 + Math.random() * 8) * dir).toFixed(2) + 'vw'; // sway 6–14vw

          const rs = ((Math.random() * 30) - 15).toFixed(1) + 'deg';
          const rm = ((Math.random() * 40) - 20).toFixed(1) + 'deg';
          const re = ((Math.random() * 40) - 20).toFixed(1) + 'deg';
          const op = (0.75 + Math.random() * 0.2).toFixed(2);

          p.style.setProperty('--w', w.toFixed(1) + 'px');
          p.style.setProperty('--h', h.toFixed(1) + 'px');
          p.style.setProperty('--dur', dur.toFixed(2) + 's');
          p.style.setProperty('--delay', delay.toFixed(2) + 's');
          p.style.setProperty('--x-start', xStart);
          p.style.setProperty('--dx', dx);
          p.style.setProperty('--rs', rs);
          p.style.setProperty('--rm', rm);
          p.style.setProperty('--re', re);
          p.style.setProperty('--op', op);

          overlay.appendChild(p);
        }
      }

      function init() {
        targets.forEach(sel => seed(document.querySelector(sel)));
      }
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    })();
  </script>

  <!-- Lightbox for image preview -->
  <div id="lightbox" class="lightbox" aria-hidden="true" role="dialog" aria-label="Pratinjau gambar">
    <div class="lightbox-backdrop"></div>
    <button class="lightbox-close" aria-label="Tutup">×</button>
    <img class="lightbox-img" alt="Pratinjau" />
  </div>

  <script>
    // Init lightbox after DOM exists (for tap/click preview)
    (function() {
      const lb = document.getElementById('lightbox');
      if (!lb) return;
      const imgEl = lb.querySelector('.lightbox-img');
      const btnClose = lb.querySelector('.lightbox-close');
      const backdrop = lb.querySelector('.lightbox-backdrop');
      const gallery = document.querySelector('#galeri .gallery-mosaic');
      if (!imgEl || !gallery) return;

      function open(src, alt) {
        imgEl.src = src;
        imgEl.alt = alt || 'Pratinjau';
        lb.classList.add('open');
        lb.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
      }
      function close() {
        lb.classList.remove('open');
        lb.setAttribute('aria-hidden', 'true');
        imgEl.removeAttribute('src');
        document.body.style.overflow = '';
      }

      // Use closest('img') to be resilient to clicks on wrappers
      gallery.addEventListener('click', (e) => {
        const t = e.target.closest('img');
        if (t) open(t.src, t.alt);
      });
      btnClose && btnClose.addEventListener('click', close);
      backdrop && backdrop.addEventListener('click', close);
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape') close(); });
    })();

    // RSVP handler: submit ke Google Apps Script + simpan lokal
     (function() {
    const form = document.getElementById('rsvpForm');
    const msg = document.getElementById('rsvpMsg');
    const GAS_URL = 'https://script.google.com/macros/s/AKfycbz6efaeIPJBUlEq098Czhd3CnJiqmSe55K0BSS26RkmqkOWzMBmljbEp2FRdr_BWAez/exec'; // ganti dengan URL Web App publish Apps Script
    if (!form || !msg) return;

    function show(message, ok = true) {
      msg.textContent = message;
      msg.style.display = 'block';
      msg.style.color = ok ? '#16a34a' : '#dc2626';
    }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const fd = new FormData(form);
      const data = Object.fromEntries(fd.entries());

      // Basic validation
      if (!data.nama || !data.email || !data.kehadiran || !data.jumlah) {
        show('Lengkapi semua kolom.', false);
        return;
      }

      // Kirim ke Google Apps Script
      try {
        const params = new URLSearchParams();
        fd.forEach((v, k) => params.append(k, v));
        params.append('ts', new Date().toISOString());

        const res = await fetch(GAS_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/x-www-form-urlencoded' }, // ⬅ perbaikan
          body: params
        });

        const text = await res.text();
        console.log("Response GAS:", text);
      } catch (err) {
        console.error("Error kirim ke GAS:", err);
      }

      // Simpan ke localStorage sebagai backup
      try {
        const list = JSON.parse(localStorage.getItem('rsvp_list') || '[]');
        list.push({
          nama: data.nama,
          email: data.email,
          kehadiran: data.kehadiran,
          jumlah: Number(data.jumlah),
          ts: new Date().toISOString()
        });
        localStorage.setItem('rsvp_list', JSON.stringify(list));
        show('Terima kasih! Konfirmasi Anda telah disimpan.');
        form.reset();
      } catch (err) {
        show('Maaf, terjadi kesalahan saat menyimpan.', false);
      }
    });
  })();
  </script>

  <!-- Bintang Kejora di galeri: 5 buah, bentuk kejora (tanpa titik bulat) dan berkedip -->
  <script>
    (function() {
      const container = document.getElementById('starfield-galeri');
      if (!container) return;

      const count = 5; // jumlah bintang kejora
      for (let i = 0; i < count; i++) {
        const star = document.createElement('div');
        star.className = 'kejora';

        // ukuran dasar 10–16px, posisi acak di area galeri
        const size = Math.round(10 + Math.random() * 6);
        const leftPct = (5 + Math.random() * 90).toFixed(2) + '%';
        const topPct = (5 + Math.random() * 90).toFixed(2) + '%';

        star.style.width = size + 'px';
        star.style.height = size + 'px';
        star.style.left = leftPct;
        star.style.top = topPct;

        // variasi kedip per bintang
        const dur = (2.5 + Math.random() * 3).toFixed(2) + 's';
        const delay = (Math.random() * 2).toFixed(2) + 's';
        star.style.animationDuration = dur;
        star.style.animationDelay = delay;

        container.appendChild(star);
      }
    })();
  </script>

  <!-- UCAPAN -->
  <section class="section" id="ucapan">
    <div class="inner">
      <h2 style="font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; font-weight: 400; color:#462159; font-size: clamp(28px, 6vw, 48px); margin: 0 0 12px; text-align:center;">Ucapan untuk Mempelai</h2>

      <!-- Form bergaya seperti section Reservation -->
      <form class="card form" id="form-ucapan" autocomplete="off" novalidate>
        <div class="form-group">
          <label for="u-nama">Nama</label>
          <input type="text" id="u-nama" name="nama" required />
        </div>
        <div class="form-group">
          <label for="u-ucapan">Ucapan</label>
          <textarea id="u-ucapan" name="ucapan" rows="3" required></textarea>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary btn-block">Kirim Ucapan</button>
          <button type="reset" class="btn btn-ghost">Reset</button>
        </div>
        <p id="ucapan-msg" class="muted" style="text-align:center; display:none; margin-top:8px;"></p>
      </form>

      <!-- Daftar Ucapan -->
      <div class="card" style="margin-top:16px;">
        <h3 style="font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; font-weight: 400; color:#462159; font-size: clamp(28px, 6vw, 48px); margin: 0 0 12px; text-align:center;">💕 Daftar Ucapan 💕</h3>
        <ul id="ucapan-list" class="list"></ul>
      </div>
    </div>
  </section>

  <script>
    (function() {
      const KEY = 'ucapan_list_v1';
      const form = document.getElementById('form-ucapan');
      const listEl = document.getElementById('ucapan-list');
      const msgEl = document.getElementById('ucapan-msg');
      const submitBtn = form ? form.querySelector('button[type="submit"]') : null;
      if (!form || !listEl) return;

      function load() {
        try { return JSON.parse(localStorage.getItem(KEY) || '[]'); }
        catch { return []; }
      }
      function save(arr) { localStorage.setItem(KEY, JSON.stringify(arr)); }
      function formatDate(iso) {
        const d = new Date(iso);
        return d.toLocaleString('id-ID', { dateStyle: 'medium', timeStyle: 'short' });
      }
      function render(highlightNewest = false) {
        const arr = load().sort((a,b) => new Date(b.ts) - new Date(a.ts));
        listEl.innerHTML = '';
        if (!arr.length) {
          const li = document.createElement('li');
          li.className = 'muted';
          li.textContent = 'Belum ada ucapan. Jadilah yang pertama!';
          listEl.appendChild(li);
          return;
        }
        for (const it of arr) {
          const li = document.createElement('li');
          const head = document.createElement('div');
          const strong = document.createElement('strong');
          strong.textContent = (it.nama || 'Tamu');
          const small = document.createElement('small');
          small.className = 'muted';
          small.style.marginLeft = '8px';
          small.textContent = '• ' + formatDate(it.ts);
          head.appendChild(strong);
          head.appendChild(small);

          const p = document.createElement('p');
          p.style.margin = '6px 0 0';
          p.textContent = (it.ucapan || '');

          li.appendChild(head);
          li.appendChild(p);
          listEl.appendChild(li);
        }
        if (highlightNewest && listEl.firstElementChild) {
          const first = listEl.firstElementChild;
          first.style.background = 'rgba(70,33,89,0.08)';
          first.style.borderRadius = '10px';
          first.style.transition = 'background .8s ease';
          first.scrollIntoView({ behavior: 'smooth', block: 'start' });
          setTimeout(() => { first.style.background = 'transparent'; }, 1200);
        }
      }
      function showMsg(text, ok = true, autoHideMs = 2400) {
        msgEl.textContent = text;
        msgEl.style.display = 'block';
        msgEl.style.color = ok ? '#16a34a' : '#dc2626';
        msgEl.style.opacity = '1';
        msgEl.style.transition = 'opacity .6s ease';
        if (autoHideMs) {
          setTimeout(() => { msgEl.style.opacity = '0'; }, autoHideMs);
          setTimeout(() => { msgEl.style.display = 'none'; msgEl.style.opacity = '1'; }, autoHideMs + 700);
        }
      }
      function setBusy(isBusy) {
        if (!submitBtn) return;
        submitBtn.disabled = isBusy;
        if (isBusy) {
          submitBtn.dataset._t = submitBtn.textContent;
          submitBtn.textContent = 'Mengirim…';
          submitBtn.style.filter = 'brightness(0.95)';
        } else {
          submitBtn.style.filter = '';
          if (submitBtn.dataset._t) submitBtn.textContent = submitBtn.dataset._t;
        }
      }

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const fd = new FormData(form);
        const nama = String(fd.get('nama') || '').trim();
        const ucapan = String(fd.get('ucapan') || '').trim();
        if (!nama || !ucapan) {
          showMsg('Nama dan ucapan wajib diisi.', false, 3000);
          return;
        }
        setBusy(true);
        try {
          const arr = load();
          arr.push({ nama, ucapan, ts: new Date().toISOString() });
          // Simulasi kecil agar transisi terlihat halus
          setTimeout(() => {
            save(arr);
            form.reset();
            if (submitBtn) {
              submitBtn.textContent = 'Terkirim ✓';
            }
            showMsg('Terima kasih atas ucapannya!', true);
            render(true);
            setTimeout(() => setBusy(false), 900);
          }, 300);
        } catch (err) {
          setBusy(false);
          showMsg('Maaf, terjadi kesalahan saat menyimpan.', false, 3000);
        }
      });

      render();
    })();
  </script>

  <!-- AMPLOP DIGITAL -->
  <section class="section" id="amplop" style="background: url('assets/bg_mempelai.png') center/cover no-repeat;">
    <div class="inner">
      <h2 style="font-family: 'LucianSchoenschrift', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; font-weight: 400; color:#462159; font-size: clamp(28px, 6vw, 48px); margin: 0 0 12px; text-align:center;">Amplop Digital</h2>
      <p class="muted" style="color:#462159; text-align:center; margin-bottom:16px;">Jika berkenan mengirim hadiah, berikut nomor rekening:</p>

     
        <div class="card amplop-card">
          <h2>Fadillah Istiqomah</h2>
          <ul class="list">
            <li>Bank BRI</li>
            <li><strong class="rekening">107001017570503</strong></li>
          </ul>
          <button class="btn btn-ghost" data-copy="107001017570503" style="margin-top:10px;">Salin Nomor</button>
        </div>

        <br>
        <br>

        <div class="card amplop-card">
          <h2>Achmad Jatnika</h2>
          <ul class="list">
            <li>Bank BRI</li>
            <li><strong class="rekening">429601001173506</strong></li>
          </ul>
          <button class="btn btn-ghost" data-copy="429601001173506" style="margin-top:10px;">Salin Nomor</button>
        </div>

      <script>
        (function() {
          const buttons = document.querySelectorAll('#amplop [data-copy]');
          buttons.forEach(btn => {
            btn.addEventListener('click', async () => {
              const value = btn.getAttribute('data-copy');
              try {
                await navigator.clipboard.writeText(value);
                btn.textContent = 'Disalin';
                setTimeout(() => btn.textContent = 'Salin Nomor', 1500);
              } catch (e) {
                // Fallback untuk browser lama
                const input = document.createElement('input');
                input.value = value;
                document.body.appendChild(input);
                input.select();
                document.execCommand('copy');
                document.body.removeChild(input);
                btn.textContent = 'Disalin';
                setTimeout(() => btn.textContent = 'Salin Nomor', 1500);
              }
            });
          });
        })();
      </script>
    </div>
  </section>

  <section class="section" id="footer" style="background: url('assets/bg_hero.png') center/cover no-repeat; min-height: 50svh; display: grid; place-items: center; text-align: center; color: var(--text-light);">
    
    <div class="inner">
       <p class="wd-sub" style="font-family: 'Poppins', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, 'Helvetica Neue', sans-serif; color:#462159; text-align:center; margin: 0 0 18px;">
        "Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari jenismu sendiri, agar kamu cenderung dan merasa tenteram kepadanya, dan Dia menjadikan di antaramu rasa kasih dan sayang."(QS. Ar-Rum: 21)
      </p>
      <img class="name-gif" src="assets/nama.gif" alt="Nama Dilla & Adit" />
    </div>
  </section>

  <!-- Audio background: tambahkan file musik ke assets/bgm.mp3 -->
  <audio id="bgm" src="assets/music/bgm.mp3" preload="auto" loop></audio>
  <button id="musicToggle" class="music-btn" type="button" aria-label="Putar musik" title="Putar musik"></button>

  <script>
    // Split names into spans and animate fade per letter
    (function() {
      const names = document.querySelectorAll('.hero-names .name');
      const baseDelay = 80; // ms per letter
      names.forEach((nameEl, idx) => {
        const text = nameEl.textContent.trim();
        nameEl.textContent = '';
        [...text].forEach((ch, i) => {
          const span = document.createElement('span');
          span.textContent = ch;
          span.style.opacity = '0';
          span.style.display = 'inline-block';
          span.style.animation = 'fadeIn 1s forwards';
          span.style.animationDelay = ((idx * 200) + i * baseDelay) + 'ms';
          nameEl.appendChild(span);
        });
      });
    })();

    // Countdown to target date (Resepsi start)
    (function() {
      const el = document.getElementById('countdown');
      if (!el) return;
      const targetStr = el.getAttribute('data-target');
      const target = new Date(targetStr).getTime();

      const daysEl = document.getElementById('cd-days');
      const hoursEl = document.getElementById('cd-hours');
      const minsEl = document.getElementById('cd-mins');
      const secsEl = document.getElementById('cd-secs');

      function pad(n) { return String(n).padStart(2, '0'); }

      function tick() {
        const now = Date.now();
        let diff = Math.floor((target - now) / 1000);
        if (diff <= 0) {
          el.innerHTML = '<span class="started">Acara dimulai!</span>';
          clearInterval(timer);
          return;
        }
        const d = Math.floor(diff / 86400); diff -= d * 86400;
        const h = Math.floor(diff / 3600); diff -= h * 3600;
        const m = Math.floor(diff / 60); diff -= m * 60;
        const s = diff;
        daysEl.textContent = pad(d);
        hoursEl.textContent = pad(h);
        minsEl.textContent = pad(m);
        secsEl.textContent = pad(s);
      }

      tick();
      const timer = setInterval(tick, 1000);
    })();

    // Background music UI sync (main click handler is defined earlier)
    (function() {
      const audio = document.getElementById('bgm');
      const btn = document.getElementById('musicToggle');
      if (!audio || !btn) return;
      const update = () => {
        btn.classList.toggle('is-playing', !audio.paused);
        btn.setAttribute('aria-label', audio.paused ? 'Putar musik' : 'Jeda musik');
        btn.title = audio.paused ? 'Putar musik' : 'Jeda musik';
      };
      audio.addEventListener('play', update);
      audio.addEventListener('pause', update);
      update();
    })();
  </script>
  <script>
    (function() {
      const container = document.getElementById('petals');
      if (!container) return;
      const mq = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)');
      if (mq && mq.matches) return;

      function rand(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }

      function buildPetals() {
        container.innerHTML = '';
        const count = Math.min(50, Math.floor(window.innerWidth / 18));
        const frag = document.createDocumentFragment();
        for (let i = 0; i < count; i++) {
          const p = document.createElement('span');
          // random color variant
          const r = Math.random();
          p.className = 'petal' + (r < 0.18 ? ' purple' : (r < 0.26 ? ' white' : ''));

          // size
          const w = rand(12, 26);
          const h = rand(16, 34);
          p.style.setProperty('--w', w + 'px');
          p.style.setProperty('--h', h + 'px');

          // horizontal start and sway distance
          p.style.setProperty('--x-start', rand(-10, 100) + 'vw');
          p.style.setProperty('--dx', rand(4, 10) + 'vw');

          // rotation across the fall
          p.style.setProperty('--rs', rand(-25, 10) + 'deg');
          p.style.setProperty('--rm', rand(-6, 8) + 'deg');
          p.style.setProperty('--re', rand(-10, 22) + 'deg');

          // duration and negative delay so animation already in progress
          p.style.setProperty('--dur', rand(14, 24) + 's');
          p.style.setProperty('--delay', '-' + rand(0, 18) + 's');

          // opacity variation
          p.style.setProperty('--op', (Math.random() * 0.4 + 0.6).toFixed(2));

          // slight random left offset to spread across viewport
          p.style.left = rand(-5, 100) + 'vw';

          frag.appendChild(p);
        }
        container.appendChild(frag);
      }

      buildPetals();
      let t;
      window.addEventListener('resize', () => {
        clearTimeout(t);
        t = setTimeout(buildPetals, 250);
      });
    })();
  </script>
</body>
</html>